{"ast":null,"code":"import _objectSpread from\"/Users/ganeshkoushik/Documents/Projects/employee-challenges/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/ganeshkoushik/Documents/Projects/employee-challenges/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState,useEffect}from'react';import{useForm}from\"react-hook-form\";import{useNavigate}from'react-router-dom';import{v4 as uuidv4}from'uuid';import\"./login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show_register=_useState2[0],setRegister=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),employees=_useState4[0],setEmployee=_useState4[1];var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset,errors=_useForm.formState.errors;var onSubmit=function onSubmit(data,e){if(show_register){var check_data=null;check_data=employees.find(function(x){return x.employee_id===data.employee_id;});if(check_data==null){employees.push(data);employees.forEach(function(x){x['login_id']=uuidv4();});localStorage.setItem(\"store_employee\",JSON.stringify(employees));setEmployee(JSON.parse(localStorage.getItem(\"store_employee\")));setRegister(false);}else{alert(\"Employee Already Exists\");}}else{var show_data=null;if(employees&&employees.length){show_data=employees.filter(function(x){return x.employee_id===data.employee_id;});}console.log(show_data);if(show_data&&show_data.length==0){alert(\"Employee ID does not Exists\");}else{var store_data;store_data=employees.find(function(x){return x.employee_id===data.employee_id;});sessionStorage.setItem(\"logged_in_user\",JSON.stringify(store_data));navigate('/home');}}e.target.reset();};var registerEmployee=function registerEmployee(){if(!show_register){setRegister(true);}else{setRegister(false);}};useEffect(function(){var data=[];data=JSON.parse(localStorage.getItem(\"store_employee\"));data=data===null?[]:data;if(data.length==0){setEmployee([]);}else{setEmployee(data);}},[]);return/*#__PURE__*/_jsxs(\"div\",{className:show_register===true?'h-350 d-block login':'d-block login',children:[/*#__PURE__*/_jsx(\"h3\",{children:show_register===true?'Sign Up':'Sign In'}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-7px\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-0\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-left d-block text-black\",children:\"Employee ID\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({className:\"form-control\"},register(\"employee_id\",{required:true})),{},{placeholder:\"Enter Employee ID\"}))]}),errors.employee_id&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger text-left fw-500\",children:\"Employee ID is Required\"}),show_register===true?/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-0 mt-16px\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-left d-block text-black\",children:\"Employee Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"employee_name\",{required:true})),{},{className:\"form-control\",placeholder:\"Enter Employee Name\"}))]}):null,errors.employee_name&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger text-left fw-500\",children:\"Employee Name is Required\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success btn-smm mt-12px fs-14 text-white\",children:\"SUBMIT\"}),/*#__PURE__*/_jsx(\"a\",{href:\"javascript:;\",className:\"fw-600 text-primary pointer d-block mt-7px\",onClick:registerEmployee,children:show_register?'Please Click here to Login':'Please Click here to Register'})]})]});}","map":{"version":3,"sources":["/Users/ganeshkoushik/Documents/Projects/employee-challenges/src/components/Login/Login.js"],"names":["React","useState","useEffect","useForm","useNavigate","v4","uuidv4","Login","navigate","show_register","setRegister","employees","setEmployee","register","handleSubmit","reset","errors","formState","onSubmit","data","e","check_data","find","x","employee_id","push","forEach","localStorage","setItem","JSON","stringify","parse","getItem","alert","show_data","length","filter","console","log","store_data","sessionStorage","target","registerEmployee","required","employee_name"],"mappings":"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","sourcesContent":["import {React,useState,useEffect} from 'react';\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate } from 'react-router-dom';\nimport { v4 as uuidv4 } from 'uuid';\nimport \"./login.css\";\n\nexport default function Login(){\n    const navigate = useNavigate();\n    const[show_register,setRegister] = useState(false)\n    const[employees,setEmployee] = useState([])\n    const { register, handleSubmit, reset, formState: { errors } } = useForm();\n    const onSubmit = (data,e) => {\n        if(show_register){\n            let check_data = null\n            check_data = employees.find(x => {\n                return x.employee_id === data.employee_id\n            })\n            if(check_data == null){\n                employees.push(data)\n                employees.forEach(x => {\n                    x['login_id'] = uuidv4();\n                })\n                localStorage.setItem(\"store_employee\",JSON.stringify(employees))\n                setEmployee(JSON.parse(localStorage.getItem(\"store_employee\")))\n                setRegister(false)\n            }\n            else{\n                alert(\"Employee Already Exists\")\n            }   \n        }\n        else{\n            let show_data = null\n            if(employees && employees.length){\n                show_data = employees.filter(x => {\n                    return x.employee_id === data.employee_id\n                })\n            }\n            console.log(show_data)\n            if(show_data && show_data.length == 0){\n                alert(\"Employee ID does not Exists\")\n            }\n            else{\n                let store_data\n                store_data = employees.find(x => {\n                    return x.employee_id === data.employee_id\n                })\n                sessionStorage.setItem(\"logged_in_user\",JSON.stringify(store_data))\n                navigate('/home')\n            }\n        }\n        e.target.reset();\n    }\n    let registerEmployee = () => {\n        if(!show_register){\n            setRegister(true)\n        }\n        else{\n            setRegister(false)\n        }\n    }\n\n    useEffect(() => {\n        let data = []\n        data = JSON.parse(localStorage.getItem(\"store_employee\"))\n        data = data === null ? [] : data\n        if(data.length == 0){\n            setEmployee([])\n        }\n        else{\n            setEmployee(data)\n        }\n    },[])\n\n    return( \n        <div className={show_register === true ? 'h-350 d-block login' : 'd-block login'}>\n            <h3>{show_register === true ? 'Sign Up' : 'Sign In'}</h3>\n            <hr />\n            <form className=\"mt-7px\" onSubmit={handleSubmit(onSubmit)}>\n                <div className=\"form-group mb-0\">\n                    <label className=\"text-left d-block text-black\">Employee ID</label>\n                    <input className=\"form-control\" {...register(\"employee_id\",{required: true})} placeholder=\"Enter Employee ID\"></input>\n                </div>\n                {errors.employee_id && <div className=\"text-danger text-left fw-500\">Employee ID is Required</div>}\n                {\n                    show_register === true ?\n                        <div className=\"form-group mb-0 mt-16px\">\n                            <label className=\"text-left d-block text-black\">Employee Name</label>\n                            <input {...register(\"employee_name\", {required: true})} className=\"form-control\" placeholder=\"Enter Employee Name\"></input>\n                        </div>\n                    : null    \n                }\n                {errors.employee_name && <div className=\"text-danger text-left fw-500\">Employee Name is Required</div>}\n                <button type=\"submit\" className=\"btn btn-success btn-smm mt-12px fs-14 text-white\">\n                    SUBMIT\n                </button>\n                <a href=\"javascript:;\" className=\"fw-600 text-primary pointer d-block mt-7px\" onClick={registerEmployee}>{ show_register ? 'Please Click here to Login' : 'Please Click here to Register'}</a>\n            </form>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}